<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Evaluasi Kinerja</title>
  <script src="https://cdn.tailwindcss.com"></script>
  
<style>
    body {
      background-color: #f4f4f6;
      color: #1f2937;
    }
    .form-container {
      background-color: #ffffff;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      border-radius: 0.5rem;
    }
    .animated-dropdown {
      transition: all 0.1s ease;
      background-color: #f1f5f9;
      border-color: #cbd5e1;
    }
    .card-hover {
      transition: transform 0.1s;
    }
    .card-hover:hover {
      transform: translateY(-5px);
    }
    .rating-options {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    .rating-options label {
      flex-shrink: 0;
      padding: 0.25rem 0.5rem;
    }

    
    html {
    width: 100%;
    min-width: 100%;
    max-width: 100%;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
  }
  body {
    width: 100%; 
    min-width: 100%;
    max-width: 100%;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

      .py-6.px-4 { 
        width: 100%;
        padding: 0 !important;
        margin: 0 !important;
      }

      .form-container {
        width: 100% !important;
        max-width: 100% !important;
        border-radius: 0 !important;
        box-shadow: none !important;
      }

      .space-y-3 {
        padding: 1rem;
      }
    
  </style>
  
</head>
<body class="bg-gray-100 sm:mt-0 sm:ml-0 mt-[4px] ml-[4px]">
  <div class="max-w-4xl mx-auto bg-white p-8 shadow-lg rounded-lg mt-1">
    <img src="https://media.licdn.com/dms/image/v2/D4E3DAQHdQ8hI0F8kFw/image-scale_191_1128/image-scale_191_1128/0/1729146506484/espera_satya_cover?e=2147483647&v=beta&t=Li35iFgVbilg53Our-rLWfp4cdXEVmF1ZzX6mRVCLfw"
       alt="Espera Satya"
       class="w-full h-32 object-cover object-right rounded-t-lg">     
    <h2 class="text-2xl font-bold mb-6 text-center">FORMULIR EVALUASI KINERJA</h2>

    <form id="evaluationForm" class="space-y-6">

      <div>
        <label class="block font-semibold">Masa Penilaian</label>
        <select name="periode" class="animated-dropdown mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-blue-600" required>
          <option value="">Masa Penilaian</option>
          <option>Jan - Apr</option>
          <option>Mei - Agu</option>
          <option>Sep - Des</option>
        </select>
      </div>

	<div>
        <label class="block font-semibold">Nama Penilai</label>
        <select id="manager" name="manager" class="animated-dropdown mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-blue-600" required>
          <option value="">Pilih Penilai</option>
        </select>
      </div>

      <div>
        <label class="block font-semibold">Departemen</label>
        <select id="department" name="department" class="animated-dropdown mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-blue-600" required disabled>
          <option value="">Pilih Departemen</option>
        </select>
      </div>

      <div>
        <label class="block font-semibold">Karyawan</label>
        <select id="employee" name="employee" class="animated-dropdown mt-1 block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-blue-600" required disabled>
          <option value="">Pilih Karyawan</option>
        </select>
      </div>

<div>
  <p class="font-semibold mb-2 underline">Materi Evaluasi :</p>

  <style>
    .oval-container {
      @apply flex justify-center bg-gray-100 border border-gray-300 rounded-full p-2 space-x-2;
    }
    .circle-option input[type="radio"] {
      display: none;
    }
    .circle-option {
      @apply relative w-8 h-8 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-sm bg-white hover:bg-blue-100;
    }
    .circle-option input[type="radio"]:checked + span {
      @apply bg-blue-600 text-white;
    }
  </style>

  <div class="space-y-4 mt-4">
  
    <div>
      <label class="block mb-1">1. Disiplin dalam melakukan pekerjaan sesuai instruksi kerja yang ada</label>
      <div class="flex justify-center items-center bg-gray-100 border border-gray-300 rounded-full px-4 py-2 space-x-1 w-fit mx-auto shadow-inner" style="max-width: 280px;">
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me1" value="1" class="hidden peer" required>
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">1</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me1" value="2" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">2</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me1" value="3" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">3</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me1" value="4" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">4</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me1" value="5" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">5</span>
        </label>
      </div>
    </div>

    <div>
      <label class="block mb-1">2. Trampil dalam mengerjakan tugas</label>
      <div class="flex justify-center items-center bg-gray-100 border border-gray-300 rounded-full px-4 py-2 space-x-1 w-fit mx-auto shadow-inner" style="max-width: 280px;">
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me2" value="1" class="hidden peer" required>
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">1</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me2" value="2" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">2</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me2" value="3" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">3</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me2" value="4" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">4</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me2" value="5" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">5</span>
        </label>
      </div>
    </div>

    <div>
      <label class="block mb-1">3. Sigap dalam menjalankan pekerjaan saya</label>
      <div class="flex justify-center items-center bg-gray-100 border border-gray-300 rounded-full px-4 py-2 space-x-1 w-fit mx-auto shadow-inner" style="max-width: 280px;">
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me3" value="1" class="hidden peer" required>
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">1</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me3" value="2" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">2</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me3" value="3" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">3</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me3" value="4" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">4</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me3" value="5" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">5</span>
        </label>
      </div>
    </div>

    <div>
      <label class="block mb-1">4. Tidak banyak mengobrol dalam jam kerja / membuang-buang waktu untuk kepentingan di luar pekerjaan</label>
      <div class="flex justify-center items-center bg-gray-100 border border-gray-300 rounded-full px-4 py-2 space-x-1 w-fit mx-auto shadow-inner" style="max-width: 280px;">
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me4" value="1" class="hidden peer" required>
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">1</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me4" value="2" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">2</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me4" value="3" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">3</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me4" value="4" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">4</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me4" value="5" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">5</span>
        </label>
      </div>
    </div>

    <div>
      <label class="block mb-1">5. Siap dan Mampu bekerjasama dengan rekan sekerja</label>
      <div class="flex justify-center items-center bg-gray-100 border border-gray-300 rounded-full px-4 py-2 space-x-1 w-fit mx-auto shadow-inner" style="max-width: 280px;">
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me5" value="1" class="hidden peer" required>
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">1</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me5" value="2" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">2</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me5" value="3" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">3</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me5" value="4" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">4</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me5" value="5" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">5</span>
        </label>
      </div>
    </div>

    <div>
      <label class="block mb-1">6. Dalam bekerja, siap melaksanakan perintah atasan (misal: siap bila ditugaskan lembur dan perintah lain terkait pekerjaan)</label>
      <div class="flex justify-center items-center bg-gray-100 border border-gray-300 rounded-full px-4 py-2 space-x-1 w-fit mx-auto shadow-inner" style="max-width: 280px;">
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me6" value="1" class="hidden peer" required>
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">1</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me6" value="2" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">2</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me6" value="3" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">3</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me6" value="4" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">4</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me6" value="5" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">5</span>
        </label>
      </div>
    </div>

    <div>
      <label class="block mb-1">7. Menjaga kebersihan mesin dan atau lingkungan kerja (termasuk tidak makan / minum di area lingkungan kerjanya)</label>
      <div class="flex justify-center items-center bg-gray-100 border border-gray-300 rounded-full px-4 py-2 space-x-1 w-fit mx-auto shadow-inner" style="max-width: 280px;">
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me7" value="1" class="hidden peer" required>
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">1</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me7" value="2" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">2</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me7" value="3" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">3</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me7" value="4" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">4</span>
        </label>
        <label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
          <input type="radio" name="me7" value="5" class="hidden peer">
          <span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">5</span>
        </label>
      </div>
    </div>

    <div>
		<label class="block mb-1">8. Memahami bahwa bekerja adalah juga ibadah</label>
		<div class="flex justify-center items-center bg-gray-100 border border-gray-300 rounded-full px-4 py-2 space-x-1 w-fit mx-auto shadow-inner" style="max-width: 280px;">
			<label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
			<input type="radio" name="me8" value="1" class="hidden peer" required>
			<span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">1</span>
		</label>
		<label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
			<input type="radio" name="me8" value="2" class="hidden peer">
			<span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">2</span>
		</label>
		<label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
			<input type="radio" name="me8" value="3" class="hidden peer">
			<span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">3</span>
		</label>
		<label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
			<input type="radio" name="me8" value="4" class="hidden peer">
			<span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">4</span>
		</label>
		<label class="relative w-7 h-7 flex items-center justify-center border border-gray-500 rounded-full cursor-pointer text-xs bg-white hover:bg-blue-100">
			<input type="radio" name="me8" value="5" class="hidden peer">
			<span class="peer-checked:bg-blue-600 peer-checked:text-white w-full h-full flex items-center justify-center rounded-full">5</span>
		</label>
		</div>
	</div>
   
          <div>
              <label class="block text-sm font-semibold text-gray-700 mb-1 underline">Evaluasi Karyawan :</label>
              <textarea id="eval" name="eval" rows="4" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-blue-600" placeholder="Hal-hal yang perlu diperbaiki terkait tampilan kinerja karyawan . . ." required></textarea>
         </div>
      </div>
    </div>
	<div class="flex justify-end">
      <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded">
        Submit
      </button>
	</div>
    </form>
  </div>

  <script>
    const API_URL = "https://script.google.com/macros/s/AKfycbyQQnPb0TISoe30VpwUqCuFoNC6joFcMm2uK5XvVHyJglppaXqGGRPIjygnkU0G-Svx_Q/exec"
    let formData = {};

    function loadData(data) {
formData = data;
const mgrSel = document.getElementById("manager");
mgrSel.innerHTML = "<option value=''>Pilih Penilai</option>";


Object.keys(data).forEach(m => {
mgrSel.innerHTML += `<option value="${m}">${m}</option>`;
});
mgrSel.disabled = false;
    }

    function getDataJSONP() {
      const script = document.createElement("script");
      script.src = API_URL + "?callback=loadData";
      document.body.appendChild(script);
    }

      document.getElementById("manager").addEventListener("change", function() {
  const mgr = this.value;
  const deptSel = document.getElementById("department");
  const empSel = document.getElementById("employee");

  deptSel.innerHTML = "<option value=''>Pilih Departemen</option>";
  empSel.innerHTML = "<option value=''>Pilih Karyawan</option>";
  deptSel.disabled = true;
  empSel.disabled = true;

  if (mgr && formData[mgr]) {
    const depts = Object.keys(formData[mgr]);
    if (depts.length > 0) {
      
      const firstDept = depts[0];
      deptSel.innerHTML = `<option value=\"${firstDept}\">${firstDept}</option>`;
      deptSel.value = firstDept;
      deptSel.disabled = true;

      
      formData[mgr][firstDept].forEach(e => {
        empSel.innerHTML += `<option value=\"${e}\">${e}</option>`;
      });
      empSel.disabled = false;
    }
  }
});


    document.getElementById("department").addEventListener("change", function() {
      const mgr = document.getElementById("manager").value;
      const dept = this.value;
      const empSel = document.getElementById("employee");
      empSel.innerHTML = "<option value=''>Pilih Karyawan</option>";
      empSel.disabled = true;

      if (mgr && dept && formData[mgr][dept]) {
        formData[mgr][dept].forEach(e => {
          empSel.innerHTML += `<option value="${e}">${e}</option>`;
        });
        empSel.disabled = false;
      }
    });
   
  document.getElementById("evaluationForm").addEventListener("submit", async function(e) {
    e.preventDefault();

    const form = e.target;
    const submitBtn = form.querySelector("button[type='submit']");
    const originalText = submitBtn.innerHTML;

    submitBtn.disabled = true;
    submitBtn.innerHTML = `
      <svg class="animate-spin h-5 w-5 mr-2 inline-block text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
      </svg>
      Loading...
    `;

    const payload = {
      periode: form.periode.value,
      manager: form.manager.value,
      department: form.department.value,
      employee: form.employee.value,
      me1: form.me1.value,
      me2: form.me2.value,
      me3: form.me3.value,
      me4: form.me4.value,
      me5: form.me5.value,
      me6: form.me6.value,
      me7: form.me7.value,
      me8: form.me8.value,
      eval: form.eval.value
    };

    try {
      await fetch(API_URL, {
        method: "POST",
        body: JSON.stringify(payload),
        headers: { "Content-Type": "application/json" },
        mode: "no-cors"
      });

      setTimeout(() => {
        alert("Data berhasil dikirim!");
        form.reset();
        submitBtn.disabled = false;
        submitBtn.innerHTML = originalText;
      }, 800);

    } catch (error) {
      submitBtn.disabled = false;
      submitBtn.innerHTML = originalText;
      alert("Gagal kirim: " + error.message);
    }
  });

    window.onload = getDataJSONP;
  </script>
</body>
</html>



